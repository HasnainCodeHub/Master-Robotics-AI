"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9639],{1768(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-2/chapter-5-urdf-robot-description","title":"Chapter 5: URDF and Robot Description","description":"Chapter Goal","source":"@site/docs/module-2/chapter-5-urdf-robot-description.md","sourceDirName":"module-2","slug":"/module-2/chapter-5-urdf-robot-description","permalink":"/Master-Robotics-AI/textbook/module-2/chapter-5-urdf-robot-description","draft":false,"unlisted":false,"editUrl":"https://github.com/HasnainCodeHub/Master-Robotics-AI/tree/main/docs/docs/module-2/chapter-5-urdf-robot-description.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"chapter-5-urdf-robot-description","title":"Chapter 5: URDF and Robot Description","sidebar_label":"5. URDF & Robot Description","sidebar_position":6},"sidebar":"textbookSidebar","previous":{"title":"4. Actions","permalink":"/Master-Robotics-AI/textbook/module-2/chapter-4-actions"},"next":{"title":"6. Integration Patterns","permalink":"/Master-Robotics-AI/textbook/module-2/chapter-6-integration-patterns"}}');var t=r(4848),s=r(8453);const l={id:"chapter-5-urdf-robot-description",title:"Chapter 5: URDF and Robot Description",sidebar_label:"5. URDF & Robot Description",sidebar_position:6},o="Chapter 5: URDF and Robot Description",a={},c=[{value:"Chapter Goal",id:"chapter-goal",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Why Robots Need Formal Descriptions",id:"why-robots-need-formal-descriptions",level:2},{value:"URDF Structure Overview",id:"urdf-overview",level:2},{value:"The Kinematic Tree",id:"the-kinematic-tree",level:3},{value:"Links: Rigid Bodies",id:"links",level:2},{value:"Basic Link Structure",id:"basic-link-structure",level:3},{value:"Geometry Types",id:"geometry-types",level:3},{value:"Visual vs Collision Geometry",id:"visual-vs-collision-geometry",level:3},{value:"Joints: Connections",id:"joints",level:2},{value:"Joint Types",id:"joint-types",level:3},{value:"Revolute Joint Example",id:"revolute-joint-example",level:3},{value:"Joint Limits from M1 Specifications",id:"joint-limits-from-m1-specifications",level:3},{value:"Sensor Frames",id:"sensor-frames",level:2},{value:"Camera Frame Example",id:"camera-frame-example",level:3},{value:"IMU Frame Example",id:"imu-frame-example",level:3},{value:"tf2: The Transform System",id:"tf2",level:2},{value:"How URDF Connects to tf2",id:"how-urdf-connects-to-tf2",level:3},{value:"Transform Lookup in Code",id:"transform-lookup-in-code",level:3},{value:"Complete URDF Example",id:"complete-example",level:2},{value:"Validation and Visualization",id:"validation",level:2},{value:"Check URDF Syntax",id:"check-urdf-syntax",level:3},{value:"Visualize in RViz2",id:"visualize-in-rviz2",level:3},{value:"Summary",id:"summary",level:2},{value:"Self-Assessment Questions",id:"self-assessment-questions",level:2},{value:"What&#39;s Next",id:"whats-next",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"chapter-5-urdf-and-robot-description",children:"Chapter 5: URDF and Robot Description"})}),"\n",(0,t.jsx)(n.h2,{id:"chapter-goal",children:"Chapter Goal"}),"\n",(0,t.jsxs)(n.p,{children:["By the end of this chapter, you will be able to ",(0,t.jsx)(n.strong,{children:"write and validate URDF descriptions for articulated robots"}),", including visual geometry, collision geometry, joint definitions with limits, and sensor frame attachments."]}),"\n",(0,t.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(n.p,{children:"After completing this chapter, you will be able to:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"ID"}),(0,t.jsx)(n.th,{children:"Objective"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.1"}),(0,t.jsx)(n.td,{children:"Write URDF links with visual and collision geometry for robot components"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.2"}),(0,t.jsx)(n.td,{children:"Write URDF joints connecting links with appropriate joint types and limits"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.3"}),(0,t.jsx)(n.td,{children:"Attach sensor frames to URDF with correct transformations"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.4"}),(0,t.jsx)(n.td,{children:"Validate URDF and visualize in RViz2"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5.5"}),(0,t.jsx)(n.td,{children:"Explain the relationship between URDF, joint_states, and tf2"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"why-robots-need-formal-descriptions",children:"Why Robots Need Formal Descriptions"}),"\n",(0,t.jsx)(n.p,{children:"Every robot has physical structure:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Links (rigid bodies)"}),"\n",(0,t.jsx)(n.li,{children:"Joints (connections that allow motion)"}),"\n",(0,t.jsx)(n.li,{children:"Sensors (attached at specific locations)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This structure affects everything:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Where is the camera relative to the base?"}),"\n",(0,t.jsx)(n.li,{children:"How far can each joint move?"}),"\n",(0,t.jsx)(n.li,{children:"What does the robot look like for visualization?"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"URDF (Unified Robot Description Format)"})," captures this structure in XML, enabling:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Visualization in RViz2"}),"\n",(0,t.jsx)(n.li,{children:"Simulation in Gazebo (Module 3)"}),"\n",(0,t.jsx)(n.li,{children:"Motion planning with MoveIt2"}),"\n",(0,t.jsx)(n.li,{children:"Transform computation with tf2"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"urdf-overview",children:"URDF Structure Overview"}),"\n",(0,t.jsx)(n.p,{children:"A URDF file contains:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_robot">\r\n  \x3c!-- Links: rigid bodies --\x3e\r\n  <link name="base_link">...</link>\r\n  <link name="arm_link">...</link>\r\n\r\n  \x3c!-- Joints: connections between links --\x3e\r\n  <joint name="arm_joint" type="revolute">...</joint>\r\n\r\n  \x3c!-- Materials: colors/textures --\x3e\r\n  <material name="blue">...</material>\r\n</robot>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"the-kinematic-tree",children:"The Kinematic Tree"}),"\n",(0,t.jsxs)(n.p,{children:["URDF describes a ",(0,t.jsx)(n.strong,{children:"tree structure"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["One root link (usually ",(0,t.jsx)(n.code,{children:"base_link"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Each joint connects a parent link to a child link"}),"\n",(0,t.jsx)(n.li,{children:"No loops allowed (tree, not graph)"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"base_link (root)\r\n    \u2502\r\n    \u251c\u2500\u2500 shoulder_joint \u2500\u2500 upper_arm_link\r\n    \u2502                         \u2502\r\n    \u2502                         \u2514\u2500\u2500 elbow_joint \u2500\u2500 lower_arm_link\r\n    \u2502                                               \u2502\r\n    \u2502                                               \u2514\u2500\u2500 wrist_joint \u2500\u2500 hand_link\r\n    \u2502\r\n    \u2514\u2500\u2500 camera_joint \u2500\u2500 camera_link\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"links",children:"Links: Rigid Bodies"}),"\n",(0,t.jsx)(n.p,{children:"A link represents a rigid body with visual appearance and collision geometry."}),"\n",(0,t.jsx)(n.h3,{id:"basic-link-structure",children:"Basic Link Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<link name="base_link">\r\n  \x3c!-- Visual: what you see in RViz --\x3e\r\n  <visual>\r\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.4 0.3 0.2"/>\r\n    </geometry>\r\n    <material name="blue"/>\r\n  </visual>\r\n\r\n  \x3c!-- Collision: for physics simulation and planning --\x3e\r\n  <collision>\r\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.42 0.32 0.22"/>  \x3c!-- Slightly larger for safety --\x3e\r\n    </geometry>\r\n  </collision>\r\n\r\n  \x3c!-- Inertial: mass and inertia for dynamics --\x3e\r\n  <inertial>\r\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\r\n    <mass value="5.0"/>\r\n    <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\r\n  </inertial>\r\n</link>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"geometry-types",children:"Geometry Types"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Primitive shapes --\x3e\r\n<geometry>\r\n  <box size="x y z"/>           \x3c!-- Dimensions in meters --\x3e\r\n  <cylinder radius="r" length="l"/>\r\n  <sphere radius="r"/>\r\n</geometry>\r\n\r\n\x3c!-- Mesh from file --\x3e\r\n<geometry>\r\n  <mesh filename="package://my_robot/meshes/base.stl" scale="1.0 1.0 1.0"/>\r\n</geometry>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"visual-vs-collision-geometry",children:"Visual vs Collision Geometry"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Aspect"}),(0,t.jsx)(n.th,{children:"Visual"}),(0,t.jsx)(n.th,{children:"Collision"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Purpose"}),(0,t.jsx)(n.td,{children:"Display"}),(0,t.jsx)(n.td,{children:"Physics, planning"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Detail"}),(0,t.jsx)(n.td,{children:"High (meshes OK)"}),(0,t.jsx)(n.td,{children:"Low (primitives preferred)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Size"}),(0,t.jsx)(n.td,{children:"Exact"}),(0,t.jsx)(n.td,{children:"Often slightly larger"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Required?"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Optional (but recommended)"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Physical Grounding"}),": Collision geometry should include ",(0,t.jsx)(n.strong,{children:"safety margins"})," based on M1 position uncertainty. If your arm has \xb15mm position accuracy, collision boxes should be at least 5mm larger."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"joints",children:"Joints: Connections"}),"\n",(0,t.jsx)(n.p,{children:"Joints define how links move relative to each other."}),"\n",(0,t.jsx)(n.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Motion"}),(0,t.jsx)(n.th,{children:"Example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"fixed"})}),(0,t.jsx)(n.td,{children:"No motion"}),(0,t.jsx)(n.td,{children:"Camera mount"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"revolute"})}),(0,t.jsx)(n.td,{children:"Rotation with limits"}),(0,t.jsx)(n.td,{children:"Elbow joint"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"continuous"})}),(0,t.jsx)(n.td,{children:"Rotation without limits"}),(0,t.jsx)(n.td,{children:"Wheel"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"prismatic"})}),(0,t.jsx)(n.td,{children:"Linear with limits"}),(0,t.jsx)(n.td,{children:"Linear actuator"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"floating"})}),(0,t.jsx)(n.td,{children:"6-DOF free motion"}),(0,t.jsx)(n.td,{children:"Drone"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"planar"})}),(0,t.jsx)(n.td,{children:"2D translation + rotation"}),(0,t.jsx)(n.td,{children:"(Rare)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"revolute-joint-example",children:"Revolute Joint Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<joint name="elbow_joint" type="revolute">\r\n  \x3c!-- Parent and child links --\x3e\r\n  <parent link="upper_arm_link"/>\r\n  <child link="lower_arm_link"/>\r\n\r\n  \x3c!-- Joint axis (local to child frame) --\x3e\r\n  <axis xyz="0 1 0"/>  \x3c!-- Rotate around Y axis --\x3e\r\n\r\n  \x3c!-- Position of joint relative to parent --\x3e\r\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n\r\n  \x3c!-- Limits from M1 actuator specifications --\x3e\r\n  <limit\r\n    lower="-1.57"    \x3c!-- -90 degrees in radians --\x3e\r\n    upper="1.57"     \x3c!-- +90 degrees --\x3e\r\n    velocity="1.0"   \x3c!-- rad/s max velocity --\x3e\r\n    effort="50.0"    \x3c!-- Nm max torque --\x3e\r\n  />\r\n\r\n  \x3c!-- Optional dynamics --\x3e\r\n  <dynamics damping="0.1" friction="0.05"/>\r\n</joint>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"joint-limits-from-m1-specifications",children:"Joint Limits from M1 Specifications"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Physical Grounding"}),": Joint limits come directly from M1 actuator analysis:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Source"}),(0,t.jsx)(n.th,{children:"Example Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"lower/upper"})}),(0,t.jsx)(n.td,{children:"Mechanical range of motion"}),(0,t.jsx)(n.td,{children:"\xb190\xb0 = \xb11.57 rad"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"velocity"})}),(0,t.jsx)(n.td,{children:"Motor speed \xd7 gear ratio"}),(0,t.jsx)(n.td,{children:"60 rpm = 6.28 rad/s"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"effort"})}),(0,t.jsx)(n.td,{children:"Motor torque \xd7 gear ratio"}),(0,t.jsx)(n.td,{children:"0.5 Nm \xd7 100 = 50 Nm"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"sensor-frames",children:"Sensor Frames"}),"\n",(0,t.jsx)(n.p,{children:"Sensors need frames defining their position and orientation."}),"\n",(0,t.jsx)(n.h3,{id:"camera-frame-example",children:"Camera Frame Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Camera mount (fixed joint) --\x3e\r\n<joint name="camera_joint" type="fixed">\r\n  <parent link="base_link"/>\r\n  <child link="camera_link"/>\r\n  <origin xyz="0.2 0 0.15" rpy="0 0.2 0"/>  \x3c!-- Tilted down 0.2 rad --\x3e\r\n</joint>\r\n\r\n\x3c!-- Camera link --\x3e\r\n<link name="camera_link">\r\n  <visual>\r\n    <geometry>\r\n      <box size="0.03 0.08 0.03"/>\r\n    </geometry>\r\n    <material name="black"/>\r\n  </visual>\r\n</link>\r\n\r\n\x3c!-- Camera optical frame (Z forward, standard for cameras) --\x3e\r\n<joint name="camera_optical_joint" type="fixed">\r\n  <parent link="camera_link"/>\r\n  <child link="camera_optical_frame"/>\r\n  \x3c!-- Rotate to camera optical conventions: Z forward, X right, Y down --\x3e\r\n  <origin xyz="0 0 0" rpy="-1.5708 0 -1.5708"/>\r\n</joint>\r\n\r\n<link name="camera_optical_frame"/>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"imu-frame-example",children:"IMU Frame Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<joint name="imu_joint" type="fixed">\r\n  <parent link="base_link"/>\r\n  <child link="imu_link"/>\r\n  <origin xyz="0 0 0.1" rpy="0 0 0"/>  \x3c!-- IMU on top of base --\x3e\r\n</joint>\r\n\r\n<link name="imu_link"/>\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Physical Grounding"}),": Sensor frame positions must match physical mounting. A camera published as ",(0,t.jsx)(n.code,{children:"camera_link"})," must actually be at that position\u2014errors here cause perception failures."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"tf2",children:"tf2: The Transform System"}),"\n",(0,t.jsxs)(n.p,{children:["URDF defines static structure. ",(0,t.jsx)(n.strong,{children:"tf2"})," provides dynamic transforms at runtime."]}),"\n",(0,t.jsx)(n.h3,{id:"how-urdf-connects-to-tf2",children:"How URDF Connects to tf2"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"robot_state_publisher"})," reads URDF"]}),"\n",(0,t.jsxs)(n.li,{children:["It publishes ",(0,t.jsx)(n.strong,{children:"static transforms"})," (fixed joints)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"joint_state_publisher"})," publishes joint positions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"robot_state_publisher"})," computes and publishes transforms for movable joints"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Launch robot description\r\nros2 launch my_robot display.launch.py\r\n\r\n# View transform tree\r\nros2 run tf2_tools view_frames\r\n\r\n# Lookup specific transform\r\nros2 run tf2_ros tf2_echo base_link camera_optical_frame\n"})}),"\n",(0,t.jsx)(n.h3,{id:"transform-lookup-in-code",children:"Transform Lookup in Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from tf2_ros import Buffer, TransformListener\r\nfrom rclpy.duration import Duration\r\n\r\nclass MyNode(Node):\r\n    def __init__(self):\r\n        super().__init__('my_node')\r\n\r\n        # Create tf2 buffer and listener\r\n        self.tf_buffer = Buffer()\r\n        self.tf_listener = TransformListener(self.tf_buffer, self)\r\n\r\n    def get_camera_pose(self):\r\n        \"\"\"Get camera position relative to base.\"\"\"\r\n        try:\r\n            transform = self.tf_buffer.lookup_transform(\r\n                'base_link',\r\n                'camera_optical_frame',\r\n                rclpy.time.Time(),  # Latest available\r\n                timeout=Duration(seconds=1.0)\r\n            )\r\n            return transform\r\n        except Exception as e:\r\n            self.get_logger().error(f'Transform lookup failed: {e}')\r\n            return None\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"complete-example",children:"Complete URDF Example"}),"\n",(0,t.jsx)(n.p,{children:"A simple 2-DOF arm with camera:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_arm">\r\n\r\n  \x3c!-- Materials --\x3e\r\n  <material name="blue">\r\n    <color rgba="0.2 0.2 0.8 1.0"/>\r\n  </material>\r\n  <material name="grey">\r\n    <color rgba="0.5 0.5 0.5 1.0"/>\r\n  </material>\r\n  <material name="black">\r\n    <color rgba="0.1 0.1 0.1 1.0"/>\r\n  </material>\r\n\r\n  \x3c!-- Base link (fixed to world) --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.1" length="0.05"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder radius="0.12" length="0.06"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Shoulder joint --\x3e\r\n  <joint name="shoulder_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="upper_arm"/>\r\n    <origin xyz="0 0 0.025" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-3.14" upper="3.14" velocity="1.0" effort="10.0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Upper arm --\x3e\r\n  <link name="upper_arm">\r\n    <visual>\r\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.05 0.05 0.3"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.06 0.06 0.32"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Elbow joint --\x3e\r\n  <joint name="elbow_joint" type="revolute">\r\n    <parent link="upper_arm"/>\r\n    <child link="lower_arm"/>\r\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-2.0" upper="2.0" velocity="1.5" effort="8.0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Lower arm --\x3e\r\n  <link name="lower_arm">\r\n    <visual>\r\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.04 0.04 0.2"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.1" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.05 0.05 0.22"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Camera mount --\x3e\r\n  <joint name="camera_joint" type="fixed">\r\n    <parent link="lower_arm"/>\r\n    <child link="camera_link"/>\r\n    <origin xyz="0 0 0.2" rpy="0 0.5 0"/>\r\n  </joint>\r\n\r\n  <link name="camera_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.02 0.05 0.02"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Camera optical frame --\x3e\r\n  <joint name="camera_optical_joint" type="fixed">\r\n    <parent link="camera_link"/>\r\n    <child link="camera_optical_frame"/>\r\n    <origin xyz="0 0 0" rpy="-1.5708 0 -1.5708"/>\r\n  </joint>\r\n\r\n  <link name="camera_optical_frame"/>\r\n\r\n</robot>\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"validation",children:"Validation and Visualization"}),"\n",(0,t.jsx)(n.h3,{id:"check-urdf-syntax",children:"Check URDF Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Install check tool\r\nsudo apt install liburdfdom-tools\r\n\r\n# Check URDF\r\ncheck_urdf simple_arm.urdf\n"})}),"\n",(0,t.jsx)(n.h3,{id:"visualize-in-rviz2",children:"Visualize in RViz2"}),"\n",(0,t.jsx)(n.p,{children:"Create a launch file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# launch/display.launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.substitutions import Command\r\nfrom ament_index_python.packages import get_package_share_directory\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    urdf_path = os.path.join(\r\n        get_package_share_directory('my_robot'),\r\n        'urdf',\r\n        'simple_arm.urdf'\r\n    )\r\n\r\n    return LaunchDescription([\r\n        # Publish robot description\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            parameters=[{'robot_description': open(urdf_path).read()}]\r\n        ),\r\n\r\n        # Joint state publisher (GUI for testing)\r\n        Node(\r\n            package='joint_state_publisher_gui',\r\n            executable='joint_state_publisher_gui',\r\n        ),\r\n\r\n        # RViz\r\n        Node(\r\n            package='rviz2',\r\n            executable='rviz2',\r\n            arguments=['-d', 'config/display.rviz']\r\n        ),\r\n    ])\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"This chapter covered URDF for robot description:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Links"})," define rigid bodies with visual appearance, collision geometry, and inertial properties."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Joints"})," connect links and define motion type, limits, and dynamics\u2014limits come from M1 actuator specifications."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Sensor frames"})," must be placed accurately in URDF\u2014errors cause perception failures."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"tf2"})," provides runtime transforms computed from URDF and joint states."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Validation"})," with ",(0,t.jsx)(n.code,{children:"check_urdf"})," and visualization in RViz2 catches errors before they cause problems."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"self-assessment-questions",children:"Self-Assessment Questions"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Link Design"}),": You need to add a gripper to your arm URDF. It has two fingers that open/close symmetrically. What joint type(s) would you use?"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Joint Limits"}),": Your servo motor specs show: max rotation 270\xb0, max speed 60 rpm, stall torque 2.5 kg\xb7cm. Convert these to URDF limit parameters."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Sensor Frames"}),": A camera is mounted 10cm forward and 5cm up from the robot base, tilted down 15\xb0. Write the joint/link URDF elements."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"tf2 Usage"}),": Your perception node needs to transform a detected object from camera frame to base frame. What tf2 function would you use?"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Validation"}),": Your URDF loads but the arm appears detached in RViz. What is the most likely cause?"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"whats-next",children:"What's Next"}),"\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.a,{href:"/module-2/chapter-6-integration-patterns",children:"Chapter 6: Integration Patterns"}),", you'll synthesize all ROS 2 communication patterns into complete Python agents that implement perception-action loops."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>o});var i=r(6540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);